@if (isMobile()) {
    <div>
        @if (isRouterActive()) {
            <ng-container [ngTemplateOutlet]="detail"></ng-container>
        } @else {
            <ng-container [ngTemplateOutlet]="list"></ng-container>
        }
    </div>
} @else {
    <p-splitter [panelSizes]="[25, 75]" [minSizes]="[25, 25]" [style]="{ height: 'calc(100vh - 11.28rem)' }">
        <ng-template #panel>
            <ng-container [ngTemplateOutlet]="list"></ng-container>
        </ng-template>
        <ng-template #panel>
            <ng-container [ngTemplateOutlet]="detail"></ng-container>
        </ng-template>
    </p-splitter>
}

<ng-template #list>
    <div class="flex flex-col h-full w-full p-2 gap-2">
        @if (label()) {
            <h1 class="text-2xl font-bold text-center">{{ label() }}</h1>
        }
        <ng-content select="header"></ng-content>
        <div class="flex flex-1 overflow-y-auto overflow-x-hidden flex-col gap-2">
            <ng-content></ng-content>
        </div>
        <ng-content select="footer"></ng-content>
    </div>
</ng-template>

<ng-template #detail>
    <div class="h-full w-full">
        <router-outlet (activate)="isRouterActive.set(true)" (deactivate)="isRouterActive.set(false)"></router-outlet>
    </div>
</ng-template>
