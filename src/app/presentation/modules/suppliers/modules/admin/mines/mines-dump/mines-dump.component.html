<section class="card">
  <article>
    <div class="flex flex-col align-items-center gap-3 md:flex-row md:justify-content-between p-4">
      <h1>Minas</h1>
      <svi-button icon="{{ ICONS.ADD }}" (click)="openDialog('create')" (keydown.enter)="openDialog('create')" label="Crear mina"/>
    </div>

    <div class="mines-filters flex justify-content-start align-items-center px-4 gap-3 flex-wrap">
      <svi-float-input [formControl]="searchControl" label="Buscar por nombre" />
      <div class="flex align-items-center gap-2">
        <svi-checkbox
          [ngModel]="withDeleted()"
          label="Incluir minas inactivas"
          [binary]="true"
          (ngModelChange)="withDeletedChange($event)"
        ></svi-checkbox>
      </div>
    </div>

    <div class="p-4">
      <svi-table
        [columns]="columns()"
        [data]="data()"
        [actions]="actions()"
        [showPaginator]="false"
      />
      <svi-paginator [totalRecords]="totalRecords" (pageChange)="onPageChange($event)"></svi-paginator>
    </div>
  </article>
</section>

<svi-dialog
  [header]="dialogTitle"
  [modal]="true"
  [dismissableMask]="true"
  [draggable]="false"
  [resizable]="false"
  width="35rem"
  [visible]="dialogOpen()"
  (onHide)="closeAllDialogs()"
>
  <svi-mine-form
    [mode]="mode()!"
    [mine]="selectedMine()"
    (onCancel)="closeAllDialogs()"
    (onCreate)="createMine($event)"
    (onEdit)="editMine($event)"
  />
</svi-dialog>

<svi-confirm-dialog #confirmDialog />
