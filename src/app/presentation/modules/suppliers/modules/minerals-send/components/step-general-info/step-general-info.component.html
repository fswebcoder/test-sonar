<form [formGroup]="form()" class="p-4 relative">
  <app-loading
    [section]="LOADING.sections.mines"
    [options]="{ overlay: true, fullscreen: false, size: 'small' }"
  ></app-loading>
  <div class="grid">
    <div class="col-12 md:col-6">
      <svi-float-select
        id="mineId"
        formControlName="mineId"
        [options]="mines()"
        label="Mina"
        optionLabel="name"
        optionValue="id"
        [showClear]="true"
        [loading]="(loadingService.isLoading$(LOADING.sections.mines) | async) ?? false"
        [disabledInput]="(loadingService.isLoading$(LOADING.sections.mines) | async) ?? false"
      />
    </div>

    <div class="col-12 md:col-6">
      <svi-float-select
        id="materialTypeId"
        formControlName="materialTypeId"
        [options]="materialTypes()"
        label="Tipo de material"
        optionLabel="name"
        optionValue="id"
        [filter]="true"
        filterBy="name"
        [showClear]="true"
      />
    </div>

    <div class="col-12 md:col-6">
      <svi-float-input
        id="supplierBatchName"
        formControlName="supplierBatchName"
        label="Nombre del lote"
        [uppercase]="true"
        type="text"
      />
    </div>

    <div class="col-12 md:col-6">
      <svi-float-input
        id="sendedWeight"
        formControlName="sendedWeight"
        label="Peso enviado"
        [isWeightInput]="true"
        [suffix]="WeightUnits.KILOGRAMS"
      />
    </div>

    <div class="col-12 md:col-6">
      <svi-date-piker
        id="estimatedShippingDateTime"
        formControlName="estimatedShippingDateTime"
        label="Fecha y hora estimada de envío"
        [showTime]="true"
        [isRequired]="true"
      />
    </div>

    @if (requiresRemissionDocument()) {
      <div class="col-12">
        <span class="block mb-2 font-medium">Documento de remisión interna</span>
        <svi-file-input
          formControlName="internalRemissionDocument"
          [multiple]="false"
          accept=".pdf,application/pdf,image/*"
        ></svi-file-input>
      </div>
    }
  </div>
</form>
